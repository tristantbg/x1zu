@import 'nib'
@import '../../node_modules/jeet/stylus/jeet/*'
@import '_mixins.styl'
@import 'normalize.css'
@import '../oembed/oembed.css'

// Media queries
$desktop = 1600px
$laptop = 1100px
$tablet = 770px
$mobile = 400px

// Colors
$primary ?= #fff
$secondary ?= #000
$accent ?= #1e13aa

// Metrics
$padding = 20px

// CSS Reset
global-reset()
//edit()

webfont('BS', 'BS', true, 'normal')

body,html
	width 100%
	background-color $primary
	color $secondary
	-webkit-text-size-adjust 100%
	::-webkit-scrollbar
		display none

html
	font-family 'BS', 'Helvetica Neue', 'Arial', sans-serif
	font-size 62.5%

body
	text-rendering optimizeLegibility
	font-smoothing()
	font-size .9vw
	letter-spacing .1em
	line-height 1
	+below($tablet)
		font-size 3.3vw

p
	margin-bottom 1em

p:last-of-type
	margin-bottom 0

h1, h2
	hideselect()
	text-transform uppercase

strong
	text-transform uppercase

li
	list-style none

span.type-offset
	margin-left .3em

::selection
	background lightgrey
	
::-moz-selection
	background lightgrey

*
	box-sizing()

a, a:hover, a:visited, a:focus
	color inherit
	text-decoration none
	cursor pointer

a:hover, a.hover
	+above($tablet)
		color $accent

.js
	.gallery_cell .image
		opacity 0
		visibility hidden
	.animate
		transition()
		opacity 0
		visibility hidden
	.animate.displayed
		opacity 1
		visibility visible
	.animate.displayed.hide
		opacity 0
		visibility hidden

.loader
	position fixed
	width 100%
	height 100%
	top 0
	left 0
	background $primary
	background-size 30px
	z-index 10000

img.lazyimg
	transition(opacity)
	opacity 0

img.lazyimg.lazyloaded
	opacity 1

#intro
	position fixed
	flexbox()
	justify-content space-between
	flex-direction column
	font-size 30vw
	text-transform uppercase
	top 0
	left 0
	z-index 10000
	text-align center
	padding $padding
	background $primary
	width 100%
	height 100vh
	cursor pointer
	transition(all,600ms)
	opacity 1
	visibility visible
	+below($tablet)
		padding ($padding / 2)
		font-size 29vw
	span
		margin-bottom -.36em
	
#intro.hidden
	opacity 0
	visibility hidden

header
	hideselect()
	position fixed
	top 0
	left 0
	z-index 1000
	width 100%
	background $primary
	height 'calc(%s + 2em)' % ($padding)
	#site_title
		position absolute
		top $padding
		left $padding
	nav#menu
		position absolute
		top $padding
		left 50%
		.hidden
			visibility hidden
			opacity 0
			transition()
		.hidden.active
			+above($tablet)
				visibility visible
				opacity 1
		ul
			li
				display inline-block
				margin-right .3em
			li.active
				border-bottom .1em solid
			li.active:hover
				+above($tablet)
					border-color $accent
			li#info_btn.active + li.hidden
				+above($tablet)
					visibility visible
					opacity 1

#container
	span(1)
	margin-top 3.85em
	padding 0 $padding $padding
	line-height 1.6em
	+below($tablet)
		margin-top 12vh
	.inner
		.page_content
			position relative
			transition(opacity)
			opacity 1
			z-index 100
			+below($tablet)
				margin 0 ($padding / 2) ($padding / 2)
			.column
				span(1/2)
			.column.right
				+above($tablet)
					span(1/2, offset: 1/2)
			.img_hover
				position absolute
				width 20%
			#about .entries
				flowing-paragraph(2.8em)
			#awards .column.right
				span(2/3, offset: 1/3)
			section, .subsection, #collaborations h2
				span(1)
				margin-bottom 1.1em
			section:last-of-type, .subsections .subsection:last-of-type
				margin-bottom 0
			span.season
				span(1/10)
			span.section-title
				span(1/4)
			span.subsections
				span(3/4)
				.column
					span(1/3)
				.entries
					span(2/3)
					.column
						span(1/2)
				span.address p:last-of-type
					margin-bottom 0
			footer
				position fixed
				bottom $padding
				left 0
				width 100%
				padding 0 $padding
				hideselect()
				span.ss::before
					content 'Spring Summer'
					text-transform uppercase
					margin-right 1em
					float left
					+below($tablet)
						content 'SS'
				span.aw::before
					content 'Autumn Winter'
					text-transform uppercase
					margin-right 1em
					float left
					+below($tablet)
						content 'AW'
			div.slider
				hideselect()
				position relative
				height 65vh
				cursor pointer
			div.gallery_cell
				height 100%
				width 100%
				position absolute
				top 0
			div.image
				span(1/2)
				text-align center
				height 100%
				background transparent url('../images/loader.gif') center no-repeat
				background-size 30px
				+below($tablet)
					position initial
				img
					height 100%
					max-width 100%
					max-height 100%
			div.image:nth-child(even)
				left 15%
			div.image:nth-child(odd)
				left 65%
			div.image, div.left, div.midleft, div.midright, div.right
				+below($tablet)
					margin 0 0 ($padding / 2)
					width 100%

body.collection
	#container
		margin-top 17.5vh
		padding 0 $padding

body.leaving
	#container .inner
		.page_content
			opacity 0

.no-js
	.loader, #intro, .lazyimg
		display none