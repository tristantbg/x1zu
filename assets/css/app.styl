@import 'nib'
@import '../../node_modules/jeet/stylus/jeet/*'
@import '_mixins.styl'
@import 'normalize.css'
@import '../oembed/oembed.css'

// Media queries
$desktop = 1600px
$laptop = 1100px
$tablet = 770px
$mobile = 400px

// Colors
$primary ?= #fff
$secondary ?= #000
$accent ?= #1e13aa

// Metrics
$padding = 1.5em

// CSS Reset
global-reset()
//edit()

webfont('BS', 'B', true, 'normal')

body,html
	width 100%
	background-color $primary
	color $secondary
	-webkit-text-size-adjust 100%
	::-webkit-scrollbar
		display none

html
	font-family 'BS', 'Helvetica Neue', 'Arial', sans-serif
	font-size 62.5%

body
	text-rendering optimizeLegibility
	font-smoothing()
	font-size .9vw
	letter-spacing .1em
	line-height 1
	+below($tablet)
		font-size 3.3vw

p
	margin-bottom 1em

p:last-of-type
	margin-bottom 0

h1, h2
	hideselect()
	text-transform uppercase

strong
	text-transform uppercase

li
	list-style none

span.type-offset
	margin-left .3em

::selection
	background lightgrey
	
::-moz-selection
	background lightgrey

*
	box-sizing()

a, a:hover, a:visited, a:focus
	color inherit
	text-decoration none
	cursor pointer

a:hover, a.hover
	+above($tablet)
		color $accent

.js
	.gallery_cell .image
		opacity 0
		visibility hidden
	.animate
		transition()
		+above($tablet)
			opacity 0
			visibility hidden
	.animate.displayed, .image.active
		opacity 1
		visibility visible
	.animate.displayed.hide
		opacity 0
		visibility hidden

.loader
	position fixed
	width 100%
	height 100%
	top 0
	left 0
	background $primary
	background-size 30px
	z-index 10000

img.lazyimg
	transition(opacity)
	opacity 0

img.lazyimg.lazyloaded
	opacity 1

#intro
	position fixed
	flexbox()
	justify-content space-between
	flex-direction column
	font-size 30vw
	text-transform uppercase
	top 0
	left 0
	z-index 10000
	text-align center
	padding $padding
	background $primary
	width 100%
	height 100vh
	cursor pointer
	transition(all,600ms)
	opacity 1
	visibility visible
	+below($tablet)
		padding ($padding / 2)
		font-size 29vw
	span
		margin-bottom -.36em
	
#intro.hidden
	opacity 0
	visibility hidden

header
	hideselect()
	position fixed
	top 0
	left 0
	z-index 1000
	width 100%
	background $primary
	height 3.8em
	#site_title
		position absolute
		top $padding
		left $padding
	nav#menu
		position absolute
		top $padding
		left 50%
		.hidden
			visibility hidden
			opacity 0
			transition()
		.hidden.active
			+above($tablet)
				visibility visible
				opacity 1
		ul
			li
				display inline-block
				margin-right .3em
			li.active
				border-bottom .1em solid
			li.active:hover
				+above($tablet)
					border-color $accent
			li#info_btn.active + li.hidden
				+above($tablet)
					visibility visible
					opacity 1

#container
	span(1)
	margin-top 3.6em
	padding 0 $padding $padding
	line-height 1.6em
	.inner
		.page_content
			position relative
			transition(opacity)
			opacity 1
			z-index 100
			.column
				span(1/2)
			.column.right
				+above($tablet)
					span(1/2, offset: 1/2)
			section, .subsection, #collaborations h2
				span(1)
				margin-bottom 1.1em
			section:last-of-type, .subsections .subsection:last-of-type
				margin-bottom 0
			.category
				text-transform capitalize
			section
				span.season
					span(1/10)
				span.section-title
					span(1/4)
				span.subsections
					span(3/4)
					.column
						span(1/3)
					.entries
						span(2/3)
						.column
							span(1/2)
					span.address p:last-of-type
						margin-bottom 0
				span.subsections.right
					span(3/4, offset: 1/4)
				span.subsection.right
					span(2/3, offset: 1/3)
				.column.right
					span(2/3, offset: 1/3)
			section.about
				span.entries
					flowing-paragraph(2.8em)
			footer
				position fixed
				bottom $padding
				left 0
				width 100%
				padding 0 $padding
				hideselect()
				line-height 1
				span.ss .season::before
					content 'Spring'
					text-transform uppercase
					margin-right 1em
					float left
					+below($tablet)
						content 'SS'
				span.ss .season::after
					content 'Summer'
					text-transform uppercase
					margin-right 1em
					float left
					+below($tablet)
						display none
				span.aw .season::before
					content 'Autumn'
					text-transform uppercase
					margin-right 1em
					float left
					+below($tablet)
						content 'SS'
				span.aw .season::after
					content 'Winter'
					text-transform uppercase
					margin-right 1em
					float left
					+below($tablet)
						display none
			section#collections, section#collaborations
				+below($tablet) 
					stack()
					.season
						span(1/4)
					.column, section .column
						stack()
					.category
						display none
			section#press_access
				display none
				text-align center
				+below($tablet)
					display block
			.img_hover
				position fixed
				top 3.6em
				left $padding
				width 30vw
				height 30vw
				max-width 1000px
				max-height 1000px
				+below($tablet)
					display none
				img
					max-height 100%
					max-width 100%
			.img_mobile
				float left
				width 50%
				display none
				margin-top 0.5em
				+below($tablet)
					display block
				img
					max-height 100%
					max-width 100%
			.img_mobile.landscape
				width 70%
			div.slider
				hideselect()
				position relative
				height 65vh
				cursor pointer
				+below($tablet)
					height 100vh
			div.gallery_cell
				height 100%
				width 100%
				position absolute
				top 0
			div.image
				span(1/2)
				text-align center
				height 100%
				background $primary url('../images/loader.gif') center no-repeat
				background-size 30px
				+below($tablet)
					align(vertical)
					width 100%
					height auto
				img
					height 100%
					max-width 100%
					max-height 100%
					+below($tablet)
						width 100%
						height auto

body.collection
	#container
		margin-top 17.5vh
		padding 0 $padding
		+below($tablet)
			margin-top 0 !important

body.page
	#container
		.inner
			.page_content
				h2
					+below($tablet)
						margin-bottom 1em
				section.section-title, section span.subsections, section .column, section .entries, section .entries .column
					+below($tablet)
						stack()
				.entries
					.column:nth-child(even)
						+below($tablet)
							margin-bottom 1em
					.column:last-of-type
						+below($tablet)
							margin-bottom 0

body.leaving
	#container .inner
		.page_content
			opacity 0

.no-js
	.loader, #intro, .lazyimg
		display none